(function(E,Q){typeof exports=="object"&&typeof module<"u"?module.exports=Q(require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["react","react-dom"],Q):(E=typeof globalThis<"u"?globalThis:E||self,E.ModalApp=Q(E.React,E.ReactDOM))})(this,function(E,Q){"use strict";var re={exports:{}},ne={};/**
 * @license React
 * react-jsx-dev-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qe;function Vt(){if(Qe)return ne;Qe=1;var n=Symbol.for("react.fragment");return ne.Fragment=n,ne.jsxDEV=void 0,ne}var se={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ge;function It(){return Ge||(Ge=1,process.env.NODE_ENV!=="production"&&function(){var n=E,e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),K=Symbol.iterator,R="@@iterator";function Le(s){if(s===null||typeof s!="object")return null;var o=K&&s[K]||s[R];return typeof o=="function"?o:null}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function S(s){{for(var o=arguments.length,c=new Array(o>1?o-1:0),l=1;l<o;l++)c[l-1]=arguments[l];Ve("error",s,c)}}function Ve(s,o,c){{var l=W.ReactDebugCurrentFrame,v=l.getStackAddendum();v!==""&&(o+="%s",c=c.concat([v]));var _=c.map(function(y){return String(y)});_.unshift("Warning: "+o),Function.prototype.apply.call(console[s],console,_)}}var pe=!1,me=!1,Ie=!1,Me=!1,Fe=!1,ye;ye=Symbol.for("react.module.reference");function g(s){return!!(typeof s=="string"||typeof s=="function"||s===r||s===a||Fe||s===i||s===w||s===T||Me||s===de||pe||me||Ie||typeof s=="object"&&s!==null&&(s.$$typeof===I||s.$$typeof===C||s.$$typeof===u||s.$$typeof===d||s.$$typeof===h||s.$$typeof===ye||s.getModuleId!==void 0))}function f(s,o,c){var l=s.displayName;if(l)return l;var v=o.displayName||o.name||"";return v!==""?c+"("+v+")":c}function N(s){return s.displayName||"Context"}function O(s){if(s==null)return null;if(typeof s.tag=="number"&&S("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case r:return"Fragment";case t:return"Portal";case a:return"Profiler";case i:return"StrictMode";case w:return"Suspense";case T:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case d:var o=s;return N(o)+".Consumer";case u:var c=s;return N(c._context)+".Provider";case h:return f(s,s.render,"ForwardRef");case C:var l=s.displayName||null;return l!==null?l:O(s.type)||"Memo";case I:{var v=s,_=v._payload,y=v._init;try{return O(y(_))}catch{return null}}}return null}var U=Object.assign,M=0,z,ge,vt,_t,Et,wt,Ct;function xt(){}xt.__reactDisabledLog=!0;function Fr(){{if(M===0){z=console.log,ge=console.info,vt=console.warn,_t=console.error,Et=console.group,wt=console.groupCollapsed,Ct=console.groupEnd;var s={configurable:!0,enumerable:!0,value:xt,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}M++}}function qr(){{if(M--,M===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:U({},s,{value:z}),info:U({},s,{value:ge}),warn:U({},s,{value:vt}),error:U({},s,{value:_t}),group:U({},s,{value:Et}),groupCollapsed:U({},s,{value:wt}),groupEnd:U({},s,{value:Ct})})}M<0&&S("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var qe=W.ReactCurrentDispatcher,We;function be(s,o,c){{if(We===void 0)try{throw Error()}catch(v){var l=v.stack.trim().match(/\n( *(at )?)/);We=l&&l[1]||""}return`
`+We+s}}var Ye=!1,ve;{var Wr=typeof WeakMap=="function"?WeakMap:Map;ve=new Wr}function kt(s,o){if(!s||Ye)return"";{var c=ve.get(s);if(c!==void 0)return c}var l;Ye=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var _;_=qe.current,qe.current=null,Fr();try{if(o){var y=function(){throw Error()};if(Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(j){l=j}Reflect.construct(s,[],y)}else{try{y.call()}catch(j){l=j}s.call(y.prototype)}}else{try{throw Error()}catch(j){l=j}s()}}catch(j){if(j&&l&&typeof j.stack=="string"){for(var p=j.stack.split(`
`),P=l.stack.split(`
`),x=p.length-1,A=P.length-1;x>=1&&A>=0&&p[x]!==P[A];)A--;for(;x>=1&&A>=0;x--,A--)if(p[x]!==P[A]){if(x!==1||A!==1)do if(x--,A--,A<0||p[x]!==P[A]){var L=`
`+p[x].replace(" at new "," at ");return s.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",s.displayName)),typeof s=="function"&&ve.set(s,L),L}while(x>=1&&A>=0);break}}}finally{Ye=!1,qe.current=_,qr(),Error.prepareStackTrace=v}var $=s?s.displayName||s.name:"",J=$?be($):"";return typeof s=="function"&&ve.set(s,J),J}function Yr(s,o,c){return kt(s,!1)}function Jr(s){var o=s.prototype;return!!(o&&o.isReactComponent)}function _e(s,o,c){if(s==null)return"";if(typeof s=="function")return kt(s,Jr(s));if(typeof s=="string")return be(s);switch(s){case w:return be("Suspense");case T:return be("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case h:return Yr(s.render);case C:return _e(s.type,o,c);case I:{var l=s,v=l._payload,_=l._init;try{return _e(_(v),o,c)}catch{}}}return""}var ee=Object.prototype.hasOwnProperty,Rt={},At=W.ReactDebugCurrentFrame;function Ee(s){if(s){var o=s._owner,c=_e(s.type,s._source,o?o.type:null);At.setExtraStackFrame(c)}else At.setExtraStackFrame(null)}function Hr(s,o,c,l,v){{var _=Function.call.bind(ee);for(var y in s)if(_(s,y)){var p=void 0;try{if(typeof s[y]!="function"){var P=Error((l||"React class")+": "+c+" type `"+y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw P.name="Invariant Violation",P}p=s[y](o,y,l,c,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(x){p=x}p&&!(p instanceof Error)&&(Ee(v),S("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",c,y,typeof p),Ee(null)),p instanceof Error&&!(p.message in Rt)&&(Rt[p.message]=!0,Ee(v),S("Failed %s type: %s",c,p.message),Ee(null))}}}var Kr=Array.isArray;function Je(s){return Kr(s)}function zr(s){{var o=typeof Symbol=="function"&&Symbol.toStringTag,c=o&&s[Symbol.toStringTag]||s.constructor.name||"Object";return c}}function Xr(s){try{return Nt(s),!1}catch{return!0}}function Nt(s){return""+s}function Tt(s){if(Xr(s))return S("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",zr(s)),Nt(s)}var te=W.ReactCurrentOwner,$r={key:!0,ref:!0,__self:!0,__source:!0},St,Ot,He;He={};function Qr(s){if(ee.call(s,"ref")){var o=Object.getOwnPropertyDescriptor(s,"ref").get;if(o&&o.isReactWarning)return!1}return s.ref!==void 0}function Gr(s){if(ee.call(s,"key")){var o=Object.getOwnPropertyDescriptor(s,"key").get;if(o&&o.isReactWarning)return!1}return s.key!==void 0}function Zr(s,o){if(typeof s.ref=="string"&&te.current&&o&&te.current.stateNode!==o){var c=O(te.current.type);He[c]||(S('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',O(te.current.type),s.ref),He[c]=!0)}}function en(s,o){{var c=function(){St||(St=!0,S("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};c.isReactWarning=!0,Object.defineProperty(s,"key",{get:c,configurable:!0})}}function tn(s,o){{var c=function(){Ot||(Ot=!0,S("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};c.isReactWarning=!0,Object.defineProperty(s,"ref",{get:c,configurable:!0})}}var rn=function(s,o,c,l,v,_,y){var p={$$typeof:e,type:s,key:o,ref:c,props:y,_owner:_};return p._store={},Object.defineProperty(p._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(p,"_self",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.defineProperty(p,"_source",{configurable:!1,enumerable:!1,writable:!1,value:v}),Object.freeze&&(Object.freeze(p.props),Object.freeze(p)),p};function nn(s,o,c,l,v){{var _,y={},p=null,P=null;c!==void 0&&(Tt(c),p=""+c),Gr(o)&&(Tt(o.key),p=""+o.key),Qr(o)&&(P=o.ref,Zr(o,v));for(_ in o)ee.call(o,_)&&!$r.hasOwnProperty(_)&&(y[_]=o[_]);if(s&&s.defaultProps){var x=s.defaultProps;for(_ in x)y[_]===void 0&&(y[_]=x[_])}if(p||P){var A=typeof s=="function"?s.displayName||s.name||"Unknown":s;p&&en(y,A),P&&tn(y,A)}return rn(s,p,P,v,l,te.current,y)}}var Ke=W.ReactCurrentOwner,Dt=W.ReactDebugCurrentFrame;function X(s){if(s){var o=s._owner,c=_e(s.type,s._source,o?o.type:null);Dt.setExtraStackFrame(c)}else Dt.setExtraStackFrame(null)}var ze;ze=!1;function Xe(s){return typeof s=="object"&&s!==null&&s.$$typeof===e}function Pt(){{if(Ke.current){var s=O(Ke.current.type);if(s)return`

Check the render method of \``+s+"`."}return""}}function sn(s){{if(s!==void 0){var o=s.fileName.replace(/^.*[\\\/]/,""),c=s.lineNumber;return`

Check your code at `+o+":"+c+"."}return""}}var jt={};function on(s){{var o=Pt();if(!o){var c=typeof s=="string"?s:s.displayName||s.name;c&&(o=`

Check the top-level render call using <`+c+">.")}return o}}function Bt(s,o){{if(!s._store||s._store.validated||s.key!=null)return;s._store.validated=!0;var c=on(o);if(jt[c])return;jt[c]=!0;var l="";s&&s._owner&&s._owner!==Ke.current&&(l=" It was passed a child from "+O(s._owner.type)+"."),X(s),S('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',c,l),X(null)}}function Ut(s,o){{if(typeof s!="object")return;if(Je(s))for(var c=0;c<s.length;c++){var l=s[c];Xe(l)&&Bt(l,o)}else if(Xe(s))s._store&&(s._store.validated=!0);else if(s){var v=Le(s);if(typeof v=="function"&&v!==s.entries)for(var _=v.call(s),y;!(y=_.next()).done;)Xe(y.value)&&Bt(y.value,o)}}}function an(s){{var o=s.type;if(o==null||typeof o=="string")return;var c;if(typeof o=="function")c=o.propTypes;else if(typeof o=="object"&&(o.$$typeof===h||o.$$typeof===C))c=o.propTypes;else return;if(c){var l=O(o);Hr(c,s.props,"prop",l,s)}else if(o.PropTypes!==void 0&&!ze){ze=!0;var v=O(o);S("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",v||"Unknown")}typeof o.getDefaultProps=="function"&&!o.getDefaultProps.isReactClassApproved&&S("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function cn(s){{for(var o=Object.keys(s.props),c=0;c<o.length;c++){var l=o[c];if(l!=="children"&&l!=="key"){X(s),S("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",l),X(null);break}}s.ref!==null&&(X(s),S("Invalid attribute `ref` supplied to `React.Fragment`."),X(null))}}var Lt={};function un(s,o,c,l,v,_){{var y=g(s);if(!y){var p="";(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(p+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var P=sn(v);P?p+=P:p+=Pt();var x;s===null?x="null":Je(s)?x="array":s!==void 0&&s.$$typeof===e?(x="<"+(O(s.type)||"Unknown")+" />",p=" Did you accidentally export a JSX literal instead of a component?"):x=typeof s,S("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",x,p)}var A=nn(s,o,c,v,_);if(A==null)return A;if(y){var L=o.children;if(L!==void 0)if(l)if(Je(L)){for(var $=0;$<L.length;$++)Ut(L[$],s);Object.freeze&&Object.freeze(L)}else S("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Ut(L,s)}if(ee.call(o,"key")){var J=O(s),j=Object.keys(o).filter(function(hn){return hn!=="key"}),$e=j.length>0?"{key: someKey, "+j.join(": ..., ")+": ...}":"{key: someKey}";if(!Lt[J+$e]){var fn=j.length>0?"{"+j.join(": ..., ")+": ...}":"{}";S(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,$e,J,fn,J),Lt[J+$e]=!0}}return s===r?cn(A):an(A),A}}var ln=un;se.Fragment=r,se.jsxDEV=ln}()),se}var Ze;function Mt(){return Ze||(Ze=1,process.env.NODE_ENV==="production"?re.exports=Vt():re.exports=It()),re.exports}var b=Mt();const F=Object.create(null);F.open="0",F.close="1",F.ping="2",F.pong="3",F.message="4",F.upgrade="5",F.noop="6";const ie=Object.create(null);Object.keys(F).forEach(n=>{ie[F[n]]=n});const we={type:"error",data:"parser error"},et=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",tt=typeof ArrayBuffer=="function",rt=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,Ce=({type:n,data:e},t,r)=>et&&e instanceof Blob?t?r(e):nt(e,r):tt&&(e instanceof ArrayBuffer||rt(e))?t?r(e):nt(new Blob([e]),r):r(F[n]+(e||"")),nt=(n,e)=>{const t=new FileReader;return t.onload=function(){const r=t.result.split(",")[1];e("b"+(r||""))},t.readAsDataURL(n)};function st(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let xe;function Ft(n,e){if(et&&n.data instanceof Blob)return n.data.arrayBuffer().then(st).then(e);if(tt&&(n.data instanceof ArrayBuffer||rt(n.data)))return e(st(n.data));Ce(n,!1,t=>{xe||(xe=new TextEncoder),e(xe.encode(t))})}const it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",G=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<it.length;n++)G[it.charCodeAt(n)]=n;const qt=n=>{let e=n.length*.75,t=n.length,r,i=0,a,u,d,h;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const w=new ArrayBuffer(e),T=new Uint8Array(w);for(r=0;r<t;r+=4)a=G[n.charCodeAt(r)],u=G[n.charCodeAt(r+1)],d=G[n.charCodeAt(r+2)],h=G[n.charCodeAt(r+3)],T[i++]=a<<2|u>>4,T[i++]=(u&15)<<4|d>>2,T[i++]=(d&3)<<6|h&63;return w},Wt=typeof ArrayBuffer=="function",ke=(n,e)=>{if(typeof n!="string")return{type:"message",data:ot(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Yt(n.substring(1),e)}:ie[t]?n.length>1?{type:ie[t],data:n.substring(1)}:{type:ie[t]}:we},Yt=(n,e)=>{if(Wt){const t=qt(n);return ot(t,e)}else return{base64:!0,data:n}},ot=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},at="",Jt=(n,e)=>{const t=n.length,r=new Array(t);let i=0;n.forEach((a,u)=>{Ce(a,!1,d=>{r[u]=d,++i===t&&e(r.join(at))})})},Ht=(n,e)=>{const t=n.split(at),r=[];for(let i=0;i<t.length;i++){const a=ke(t[i],e);if(r.push(a),a.type==="error")break}return r};function Kt(){return new TransformStream({transform(n,e){Ft(n,t=>{const r=t.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,r)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}n.data&&typeof n.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(t)})}})}let Re;function oe(n){return n.reduce((e,t)=>e+t.length,0)}function ae(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)t[i]=n[0][r++],r===n[0].length&&(n.shift(),r=0);return n.length&&r<n[0].length&&(n[0]=n[0].slice(r)),t}function zt(n,e){Re||(Re=new TextDecoder);const t=[];let r=0,i=-1,a=!1;return new TransformStream({transform(u,d){for(t.push(u);;){if(r===0){if(oe(t)<1)break;const h=ae(t,1);a=(h[0]&128)===128,i=h[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(oe(t)<2)break;const h=ae(t,2);i=new DataView(h.buffer,h.byteOffset,h.length).getUint16(0),r=3}else if(r===2){if(oe(t)<8)break;const h=ae(t,8),w=new DataView(h.buffer,h.byteOffset,h.length),T=w.getUint32(0);if(T>Math.pow(2,21)-1){d.enqueue(we);break}i=T*Math.pow(2,32)+w.getUint32(4),r=3}else{if(oe(t)<i)break;const h=ae(t,i);d.enqueue(ke(a?h:Re.decode(h),e)),r=0}if(i===0||i>n){d.enqueue(we);break}}}})}const ct=4;function k(n){if(n)return Xt(n)}function Xt(n){for(var e in k.prototype)n[e]=k.prototype[e];return n}k.prototype.on=k.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this},k.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this},k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var r,i=0;i<t.length;i++)if(r=t[i],r===e||r.fn===e){t.splice(i,1);break}return t.length===0&&delete this._callbacks["$"+n],this},k.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(t){t=t.slice(0);for(var r=0,i=t.length;r<i;++r)t[r].apply(this,e)}return this},k.prototype.emitReserved=k.prototype.emit,k.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},k.prototype.hasListeners=function(n){return!!this.listeners(n).length};const ce=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0),B=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),$t="arraybuffer";function dn(){}function ut(n,...e){return e.reduce((t,r)=>(n.hasOwnProperty(r)&&(t[r]=n[r]),t),{})}const Qt=B.setTimeout,Gt=B.clearTimeout;function ue(n,e){e.useNativeTimers?(n.setTimeoutFn=Qt.bind(B),n.clearTimeoutFn=Gt.bind(B)):(n.setTimeoutFn=B.setTimeout.bind(B),n.clearTimeoutFn=B.clearTimeout.bind(B))}const Zt=1.33;function er(n){return typeof n=="string"?tr(n):Math.ceil((n.byteLength||n.size)*Zt)}function tr(n){let e=0,t=0;for(let r=0,i=n.length;r<i;r++)e=n.charCodeAt(r),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(r++,t+=4);return t}function lt(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rr(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function nr(n){let e={},t=n.split("&");for(let r=0,i=t.length;r<i;r++){let a=t[r].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class sr extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Ae extends k{constructor(e){super(),this.writable=!1,ue(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new sr(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=ke(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=rr(e);return t.length?"?"+t:""}}class ir extends Ae{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||t()})),this.writable||(r++,this.once("drain",function(){--r||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Ht(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Jt(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=lt()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let ft=!1;try{ft=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const or=ft;function ar(){}class cr extends ir{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let r=location.port;r||(r=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,r)=>{this.onError("xhr poll error",t,r)}),this.pollXhr=e}}class q extends k{constructor(e,t,r){super(),this.createRequest=e,ue(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const t=ut(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=q.requestsCount++,q.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=ar,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete q.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(q.requestsCount=0,q.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ht);else if(typeof addEventListener=="function"){const n="onpagehide"in B?"pagehide":"unload";addEventListener(n,ht,!1)}}function ht(){for(let n in q.requests)q.requests.hasOwnProperty(n)&&q.requests[n].abort()}const ur=function(){const n=dt({xdomain:!1});return n&&n.responseType!==null}();class lr extends cr{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=ur&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new q(dt,this.uri(),e)}}function dt(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||or))return new XMLHttpRequest}catch{}if(!e)try{return new B[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const pt=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class fr extends Ae{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=pt?{}:ut(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;Ce(r,this.supportsBinary,a=>{try{this.doWrite(r,a)}catch{}i&&ce(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=lt()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Ne=B.WebSocket||B.MozWebSocket;class hr extends fr{createSocket(e,t,r){return pt?new Ne(e,t,r):t?new Ne(e,t):new Ne(e)}doWrite(e,t){this.ws.send(t)}}class dr extends Ae{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=zt(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),i=Kt();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{r.read().then(({done:d,value:h})=>{d||(this.onPacket(h),a())}).catch(d=>{})};a();const u={type:"open"};this.query.sid&&(u.data=`{"sid":"${this.query.sid}"}`),this._writer.write(u).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],i=t===e.length-1;this._writer.write(r).then(()=>{i&&ce(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const pr={websocket:hr,webtransport:dr,polling:lr},mr=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,yr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Te(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),r=n.indexOf("]");t!=-1&&r!=-1&&(n=n.substring(0,t)+n.substring(t,r).replace(/:/g,";")+n.substring(r,n.length));let i=mr.exec(n||""),a={},u=14;for(;u--;)a[yr[u]]=i[u]||"";return t!=-1&&r!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=gr(a,a.path),a.queryKey=br(a,a.query),a}function gr(n,e){const t=/\/{2,9}/g,r=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function br(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,a){i&&(t[i]=a)}),t}const Se=typeof addEventListener=="function"&&typeof removeEventListener=="function",le=[];Se&&addEventListener("offline",()=>{le.forEach(n=>n())},!1);class Y extends k{constructor(e,t){if(super(),this.binaryType=$t,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const r=Te(e);t.hostname=r.host,t.secure=r.protocol==="https"||r.protocol==="wss",t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=Te(t.host).host);ue(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=nr(this.opts.query)),Se&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},le.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=ct,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Y.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Y.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(t+=er(i)),r>0&&t>this._maxPayload)return this.writeBuffer.slice(0,r);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,ce(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,i){if(typeof t=="function"&&(i=t,t=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Y.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Se&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=le.indexOf(this._offlineEventListener);r!==-1&&le.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Y.protocol=ct;class vr extends Y{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Y.priorWebsocketSuccess=!1;const i=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",C=>{if(!r)if(C.type==="pong"&&C.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Y.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(T(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const I=new Error("probe error");I.transport=t.name,this.emitReserved("upgradeError",I)}}))};function a(){r||(r=!0,T(),t.close(),t=null)}const u=C=>{const I=new Error("probe error: "+C);I.transport=t.name,a(),this.emitReserved("upgradeError",I)};function d(){u("transport closed")}function h(){u("socket closed")}function w(C){t&&C.name!==t.name&&a()}const T=()=>{t.removeListener("open",i),t.removeListener("error",u),t.removeListener("close",d),this.off("close",h),this.off("upgrading",w)};t.once("open",i),t.once("error",u),t.once("close",d),this.once("close",h),this.once("upgrading",w),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}let _r=class extends vr{constructor(e,t={}){const r=typeof e=="object"?e:t;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>pr[i]).filter(i=>!!i)),super(e,r)}};function Er(n,e="",t){let r=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),r=Te(n)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const a=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+a+":"+r.port+e,r.href=r.protocol+"://"+a+(t&&t.port===r.port?"":":"+r.port),r}const wr=typeof ArrayBuffer=="function",Cr=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,mt=Object.prototype.toString,xr=typeof Blob=="function"||typeof Blob<"u"&&mt.call(Blob)==="[object BlobConstructor]",kr=typeof File=="function"||typeof File<"u"&&mt.call(File)==="[object FileConstructor]";function Oe(n){return wr&&(n instanceof ArrayBuffer||Cr(n))||xr&&n instanceof Blob||kr&&n instanceof File}function fe(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,r=n.length;t<r;t++)if(fe(n[t]))return!0;return!1}if(Oe(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return fe(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&fe(n[t]))return!0;return!1}function Rr(n){const e=[],t=n.data,r=n;return r.data=De(t,e),r.attachments=e.length,{packet:r,buffers:e}}function De(n,e){if(!n)return n;if(Oe(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let r=0;r<n.length;r++)t[r]=De(n[r],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=De(n[r],e));return t}return n}function Ar(n,e){return n.data=Pe(n.data,e),delete n.attachments,n}function Pe(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=Pe(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=Pe(n[t],e));return n}const Nr=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Tr=5;var m;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(m||(m={}));class Sr{constructor(e){this.replacer=e}encode(e){return(e.type===m.EVENT||e.type===m.ACK)&&fe(e)?this.encodeAsBinary({type:e.type===m.EVENT?m.BINARY_EVENT:m.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===m.BINARY_EVENT||e.type===m.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Rr(e),r=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(r),i}}function yt(n){return Object.prototype.toString.call(n)==="[object Object]"}class je extends k{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===m.BINARY_EVENT;r||t.type===m.BINARY_ACK?(t.type=r?m.EVENT:m.ACK,this.reconstructor=new Or(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Oe(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(m[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===m.BINARY_EVENT||r.type===m.BINARY_ACK){const a=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const u=e.substring(a,t);if(u!=Number(u)||e.charAt(t)!=="-")throw new Error("Illegal attachments");r.attachments=Number(u)}if(e.charAt(t+1)==="/"){const a=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););r.nsp=e.substring(a,t)}else r.nsp="/";const i=e.charAt(t+1);if(i!==""&&Number(i)==i){const a=t+1;for(;++t;){const u=e.charAt(t);if(u==null||Number(u)!=u){--t;break}if(t===e.length)break}r.id=Number(e.substring(a,t+1))}if(e.charAt(++t)){const a=this.tryParse(e.substr(t));if(je.isPayloadValid(r.type,a))r.data=a;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case m.CONNECT:return yt(t);case m.DISCONNECT:return t===void 0;case m.CONNECT_ERROR:return typeof t=="string"||yt(t);case m.EVENT:case m.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&Nr.indexOf(t[0])===-1);case m.ACK:case m.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Or{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Ar(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Dr=Object.freeze(Object.defineProperty({__proto__:null,Decoder:je,Encoder:Sr,get PacketType(){return m},protocol:Tr},Symbol.toStringTag,{value:"Module"}));function V(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Pr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class gt extends k{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[V(e,"open",this.onopen.bind(this)),V(e,"packet",this.onpacket.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,i,a;if(Pr.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const u={type:m.EVENT,data:t};if(u.options={},u.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const T=this.ids++,C=t.pop();this._registerAckCallback(T,C),u.id=T}const d=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,h=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!d||(h?(this.notifyOutgoingListeners(u),this.packet(u)):this.sendBuffer.push(u)),this.flags={},this}_registerAckCallback(e,t){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=t;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let d=0;d<this.sendBuffer.length;d++)this.sendBuffer[d].id===e&&this.sendBuffer.splice(d,1);t.call(this,new Error("operation has timed out"))},i),u=(...d)=>{this.io.clearTimeoutFn(a),t.apply(this,d)};u.withError=!0,this.acks[e]=u}emitWithAck(e,...t){return new Promise((r,i)=>{const a=(u,d)=>u?i(u):r(d);a.withError=!0,t.push(a),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(i)):(this._queue.shift(),t&&t(null,...a)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:m.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case m.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case m.EVENT:case m.BINARY_EVENT:this.onevent(e);break;case m.ACK:case m.BINARY_ACK:this.onack(e);break;case m.DISCONNECT:this.ondisconnect();break;case m.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...i){r||(r=!0,t.packet({type:m.ACK,id:e,data:i}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:m.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function H(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}H.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0},H.prototype.reset=function(){this.attempts=0},H.prototype.setMin=function(n){this.ms=n},H.prototype.setMax=function(n){this.max=n},H.prototype.setJitter=function(n){this.jitter=n};class Be extends k{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,ue(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((r=t.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new H({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const i=t.parser||Dr;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _r(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=V(t,"open",function(){r.onopen(),e&&e()}),a=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),e?e(d):this.maybeReconnectOnOpen()},u=V(t,"error",a);if(this._timeout!==!1){const d=this._timeout,h=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),t.close()},d);this.opts.autoUnref&&h.unref(),this.subs.push(()=>{this.clearTimeoutFn(h)})}return this.subs.push(i),this.subs.push(u),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(V(e,"ping",this.onping.bind(this)),V(e,"data",this.ondata.bind(this)),V(e,"error",this.onerror.bind(this)),V(e,"close",this.onclose.bind(this)),V(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){ce(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new gt(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t)if(this.nsps[r].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Z={};function he(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=Er(n,e.path||"/socket.io"),r=t.source,i=t.id,a=t.path,u=Z[i]&&a in Z[i].nsps,d=e.forceNew||e["force new connection"]||e.multiplex===!1||u;let h;return d?h=new Be(r,e):(Z[i]||(Z[i]=new Be(r,e)),h=Z[i]),t.query&&!e.query&&(e.query=t.queryKey),h.socket(t.path,e)}Object.assign(he,{Manager:Be,Socket:gt,io:he,connect:he});const D=[];for(let n=0;n<256;++n)D.push((n+256).toString(16).slice(1));function jr(n,e=0){return(D[n[e+0]]+D[n[e+1]]+D[n[e+2]]+D[n[e+3]]+"-"+D[n[e+4]]+D[n[e+5]]+"-"+D[n[e+6]]+D[n[e+7]]+"-"+D[n[e+8]]+D[n[e+9]]+"-"+D[n[e+10]]+D[n[e+11]]+D[n[e+12]]+D[n[e+13]]+D[n[e+14]]+D[n[e+15]]).toLowerCase()}let Ue;const Br=new Uint8Array(16);function Ur(){if(!Ue){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ue=crypto.getRandomValues.bind(crypto)}return Ue(Br)}const bt={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function Lr(n,e,t){var i;if(bt.randomUUID&&!n)return bt.randomUUID();n=n||{};const r=n.random??((i=n.rng)==null?void 0:i.call(n))??Ur();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jr(r)}const Vr=E.createContext(),Ir=()=>E.useContext(Vr);function Mr(){const{colors:n}=Ir(),[e,t]=E.useState(""),[r,i]=E.useState([]),a="http://localhost:5000/message",u="http://localhost:5000",d=E.useRef(null),h=E.useRef(null),[w,T]=E.useState(null),[C,I]=E.useState(null),[de,K]=E.useState(!1),[R,Le]=E.useState(null);E.useState(!1);const W=E.useRef(null),[S,Ve]=E.useState(0);let pe;E.useEffect(()=>{const f=new URLSearchParams(window.location.search).get("companyId");if(!f){console.log("No companyId in URL. Exiting...");return}I(f),pe=f;const N={current:null};let O=localStorage.getItem("userData"),U=O?JSON.parse(O):{},M;return U[f]?M=U[f]:(M=Lr(),U[f]=M,localStorage.setItem("userData",JSON.stringify(U))),T(M),N.current=M,h.current=he(u),h.current.on("receiveMessageToUser",z=>{console.log(z.receiver,C),z.receiver===N.current&&i(ge=>[...ge,z]),me()}),()=>{h.current.disconnect()}},[]),E.useEffect(()=>{async function g(){try{let N=await(await fetch("http://localhost:5000/api/getModalTheme",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyId:C})})).json();N.result&&Le(N.result),console.log(N.result)}catch(f){console.error("Error fetching theme:",f)}}g()},[C]);const me=()=>{var g;(g=d.current)==null||g.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{me()},[r]);const Ie=async()=>{try{const f=await(await fetch("http://localhost:5000/api/getMessageUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:w,companyId:C})})).json();console.log(f),Array.isArray(f.messages)?(console.log("Messages fetched:",f),i(N=>[...N,...f.messages])):console.log("Expected an array but received:",f.messages)}catch(g){console.error("Error fetching messages:",g)}};E.useEffect(()=>{w&&Ie()},[w]);const Me=async()=>{if(e.trim()==="")return;const g={sender:w,message:e,receiver:C};try{const f=await fetch("http://localhost:5000/api/saveMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}),N=await f.json();f.ok}catch(f){console.error("Error while sending message:",f)}h.current.emit("newUserJoined",{newUser:w,companyId:C}),i(f=>[...f,g]),t(""),fetch(`${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)}).then(()=>{fetch("http://localhost:5000/api/saveEndUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:w,companyId:C})}).then(f=>f.json()).then(f=>{f.msg?(console.log(w),console.log(f.msg)):console.log("ID saved successfully:",f),h.current.emit("sendMessageByUser",g)}).catch(f=>console.error("Error calling /saveEndUser API:",f))}).catch(f=>console.error("Error saving message:",f))};if(E.useEffect(()=>{(async f=>{try{const O=await(await fetch("http://localhost:5000/api/checkValidCompanyId",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({companyId:pe})})).json();console.log(C),console.log(O),O.success?K(!0):K(!1)}catch(N){console.error("Error validating company ID:",N),K(!1)}})()},[]),!C||de===null)return null;if(de===!1)return b.jsxDEV("h1",{style:{textAlign:"center",color:"red"},children:"Company ID not valid"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:226,columnNumber:12},this);const Fe=()=>{const g=W.current,f=g.scrollLeft,N=g.offsetWidth,O=Math.round(f/N);Ve(O)},ye=g=>{const f=W.current,N=f.offsetWidth;f.scrollTo({left:g*N,behavior:"smooth"})};return Q.createPortal(b.jsxDEV(b.Fragment,{children:b.jsxDEV("div",{className:"w-full h-[96vh] md:max-w-[380px] mx-auto mt-1 relative",children:[b.jsxDEV("div",{ref:W,onScroll:Fe,className:"w-full h-full flex overflow-x-scroll scroll-smooth snap-x snap-mandatory scrollbar-none rounded-lg",children:[b.jsxDEV("div",{style:{background:`linear-gradient(to bottom, ${R==null?void 0:R.backgroundColor}, white )`},className:"relative flex-none w-full h-full snap-center flex flex-col items-center justify-center p-4",children:[b.jsxDEV("div",{className:"absolute top-0 flex items-center justify-between w-full py-5 px-7",children:b.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"Shambho Ai"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:262,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:261,columnNumber:13},this),b.jsxDEV("div",{className:"flex w-full flex-col items-center justify-start h-[35%]",children:[b.jsxDEV("div",{className:"flex w-[90%] items-start flex-col",children:[b.jsxDEV("h1",{className:"text-xl font-bold",children:"hello"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:266,columnNumber:17},this),b.jsxDEV("p",{children:"Ready your Chatbot"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:267,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:265,columnNumber:15},this),b.jsxDEV("div",{style:{backgroundColor:n.backgroundSecondary},className:"w-[90%] mt-3 rounded-lg p-3 shadow-lg flex items-center justify-between",children:[b.jsxDEV("div",{children:[b.jsxDEV("h2",{children:"Send us a message"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:274,columnNumber:19},this),b.jsxDEV("p",{className:"text-sm opacity-85",children:"We'll be back online tomorrow"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:275,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:273,columnNumber:17},this),b.jsxDEV("button",{style:{backgroundColor:(R==null?void 0:R.buttonBackgroundColor)||"#4ECDC4",backgroundSize:"cover",backgroundPosition:"center",color:(R==null?void 0:R.buttonColor)||"#fff"},className:"px-5 py-2 font-semibold rounded-xl",children:"➤"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:277,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:269,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:255,columnNumber:11},this),b.jsxDEV("div",{className:"flex-none snap-center w-full h-full bg-[#f7fafc] mx-auto rounded-xl flex flex-col shadow-lg z-[1000] font-sans justify-center",children:[b.jsxDEV("div",{className:"p-3 bg-white rounded-t-lg flex items-center justify-start",children:b.jsxDEV("span",{className:"text-[18px]",children:"Live Chat"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:297,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:296,columnNumber:13},this),b.jsxDEV("div",{style:{background:`linear-gradient(to bottom, ${R==null?void 0:R.backgroundColor}, white )`},className:"h-full p-4 bg-gray-100 overflow-y-auto",children:b.jsxDEV("div",{className:"flex flex-col space-y-4",children:r.map((g,f)=>b.jsxDEV("div",{className:`flex items-start ${g.sender===w?"flex-row-reverse":""}`,children:[b.jsxDEV("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white ${g.sender===w?"bg-green-500 ml-2":"bg-blue-500 mr-2"}`,children:b.jsxDEV("span",{className:"text-sm",children:g.sender===w?"You":"Admin"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:315,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:311,columnNumber:21},this),b.jsxDEV("div",{className:`p-2 rounded-lg shadow-md max-w-[80%] ${g.sender===w?"bg-[#4ECDC4}] text-white":"bg-white text-gray-600"}`,children:b.jsxDEV("p",{className:"text-sm",children:g.message},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:325,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:319,columnNumber:21},this)]},f,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:307,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:305,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:299,columnNumber:13},this),b.jsxDEV("div",{style:{backgroundColor:n.backgroundSecondary},className:"px-6 py-3 flex items-center rounded-b-lg gap-2",children:[b.jsxDEV("input",{type:"text",placeholder:"Type message",value:e,onChange:g=>t(g.target.value),className:"sm:w-auto border border-[#4fd1c5] w-full flex-grow px-3 py-2 rounded-lg bg-white text-gray-800 outline-none shadow-sm"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:335,columnNumber:15},this),b.jsxDEV("button",{style:{backgroundColor:(R==null?void 0:R.buttonBackgroundColor)||"#4ECDC4",backgroundSize:"cover",backgroundPosition:"center",color:(R==null?void 0:R.buttonColor)||"#fff"},onClick:Me,className:"w-fit text-black border border-[#4fd1c5] px-4 py-2 rounded-lg transition duration-300",children:"➤"},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:342,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:331,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:295,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:249,columnNumber:9},this),b.jsxDEV("div",{className:"absolute -bottom-4 w-full flex justify-center gap-2",children:[0,1].map(g=>b.jsxDEV("div",{onClick:()=>ye(g),className:`w-[8px] h-[8px] rounded-full ${S===g?"bg-[#4fd1c5]":"bg-white"} transition duration-300 cursor-pointer`},g,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:360,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:358,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:248,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/Asus/Desktop/ChatModal/frontend/src/App.jsx",lineNumber:246,columnNumber:5},this),document.body)}return Mr});
